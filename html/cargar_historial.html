<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> HISTORIAL MEDICO </title>
    <link rel="stylesheet" href="../css/style_cargar_historial.css">
</head>
<body>
    <header>

        <div class="logo">
            <img src="../img/dontar_clinica_medica.png" alt="Dontar">
        </div>

    </header>
    <main>
        <div class="div__carga_historial">
            <h1>Ingreso de Historial Medico</h1>
            <form id="historial-form">
                <label for="dni">DNI del paciente:</label>
                <input type="text" id="dni" name="dni" required>
                
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre" readonly>
                
                <label for="apellido">Apellido:</label>
                <input type="text" id="apellido" name="apellido" readonly>
                
                <label for="obraSocial">Obra Social:</label>
                <input type="text" id="obraSocial" name="obraSocial" readonly>
                
                <label for="fecha">Fecha:</label>
                <input type="date" id="fecha" name="fecha" required>
                
                <label for="historial">Historial Médico:</label>
                <textarea id="historial" name="historial" rows="4" required></textarea>
                
                <button type="submit">Guardar</button>
            </form>
        </div>
    </main>
    

    <script>
        document.getElementById('dni').addEventListener('blur', function() {
            // Simulacion de búsqueda en base de datos
            const pacientes = {
                '12345678': { nombre: 'Juan', apellido: 'Pérez', obraSocial: 'OSDE' },
                '87654321': { nombre: 'María', apellido: 'Gómez', obraSocial: 'Swiss Medical' }
            };
            const dni = this.value;
            if (pacientes[dni]) {
                document.getElementById('nombre').value = pacientes[dni].nombre;
                document.getElementById('apellido').value = pacientes[dni].apellido;
                document.getElementById('obraSocial').value = pacientes[dni].obraSocial;
            } else {
                alert('Paciente no encontrado');
            }
        });
    </script>
</body>
</html>
